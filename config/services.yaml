parameters:
  images_directory: '%kernel.project_dir%/public/images'

services:
  _defaults:
    autowire: true      # Automatically injects dependencies
    autoconfigure: true # Automatically adds tags

  # Auto-registers all services in src/, except excluded directories
  App\:
    resource: '../src/'
    exclude:
      - '../src/DependencyInjection/'
      - '../src/Entity/'
      - '../src/Kernel.php'

  # Explicitly configure controllers (optional but good practice)
  App\Controller\:
    resource: '../src/Controller'
    tags: [ 'controller.service_arguments' ]

  # Custom services and processors
  App\Service\FileUploader:
    arguments:
      $targetDirectory: '%images_directory%'